{
  "title": "완전한 시스템 분석 (Tool & Catalog 포함)",
  "execution_time": "2026-01-29T06:12:03.295429",
  "database": "115.21.12.151:5432/spadb",
  "total_tests": 6,
  "tests": [
    {
      "query_id": "ASSET_ALL",
      "query_text": "모든 asset type별 발행된 asset 개수 (Tool & Catalog 포함)",
      "execution_time_ms": 26.850461959838867,
      "trace_id": "SYSTEM",
      "asset_summary": {
        "query": {
          "count": 37,
          "names": [
            "ci_aggregate_count",
            "ci_aggregate_group",
            "ci_aggregate_total",
            "ci_attributes",
            "ci_get",
            "ci_list",
            "ci_list_preview",
            "ci_resolver_exact",
            "ci_resolver_pattern",
            "ci_search",
            "component_composition",
            "dependency_expand",
            "dependency_paths",
            "event_log",
            "event_log_columns",
            "event_log_recent",
            "event_log_table_exists",
            "graph_expand",
            "graph_path",
            "inspection_history",
            "maintenance_history",
            "maintenance_history_recent",
            "metric_aggregate",
            "metric_aggregate_by_ci",
            "metric_exists",
            "metric_list",
            "metric_resolver",
            "metric_series",
            "metric_timeseries",
            "postgres_catalog_aggregation",
            "postgres_catalog_columns",
            "postgres_catalog_jsonb_key_stats",
            "postgres_catalog_jsonb_sample",
            "postgres_catalog_table_count",
            "resolve_ci",
            "work_history",
            "work_history_recent"
          ]
        },
        "mapping": {
          "count": 15,
          "names": [
            "agg_keywords",
            "auto_keywords",
            "cep_keywords",
            "filterable_fields",
            "graph_relation",
            "graph_relation_allowlist",
            "graph_relation_mapping",
            "graph_scope_keywords",
            "graph_view_keywords",
            "history_keywords",
            "list_keywords",
            "metric_aliases",
            "output_type_priorities",
            "series_keywords",
            "table_hints"
          ]
        },
        "tool": {
          "count": 12,
          "names": [
            "bom_lookup",
            "bom_lookup",
            "energy_consumption",
            "energy_consumption",
            "equipment_search",
            "equipment_search",
            "maintenance_history",
            "maintenance_history",
            "production_status",
            "production_status",
            "worker_schedule",
            "worker_schedule"
          ]
        },
        "prompt": {
          "count": 12,
          "names": [
            "ci_compose_summary",
            "ci_planner_output_parser",
            "ci_response_builder",
            "ci_universal_compose",
            "ci_universal_planner",
            "ci_universal_present",
            "ci_validator",
            "ops_all_router",
            "ops_graph_router",
            "ops_history_router",
            "ops_langgraph",
            "ops_metric_router"
          ]
        },
        "screen": {
          "count": 7,
          "names": [
            "Publish Gate 1769262008086",
            "Publish Gate 1769262052133",
            "Publish Gate 1769262154233",
            "Publish Gate 1769262241194",
            "Publish Gate 1769262480869",
            "Publish Gate 1769270980800",
            "설비 구성 조회"
          ]
        },
        "policy": {
          "count": 6,
          "names": [
            "ci_column_allowlist",
            "discovery_config",
            "plan_budget_default",
            "time_ranges",
            "tool_limits",
            "view_depth_policies"
          ]
        },
        "source": {
          "count": 2,
          "names": [
            "primary_neo4j",
            "primary_postgres"
          ]
        },
        "resolver": {
          "count": 1,
          "names": [
            "default_resolver"
          ]
        },
        "schema": {
          "count": 1,
          "names": [
            "primary_postgres_schema"
          ]
        }
      },
      "total": 93,
      "status": "success"
    },
    {
      "query_id": "TOOL_ASSETS",
      "query_text": "Tool Asset 상세 조회",
      "execution_time_ms": 5.136966705322266,
      "trace_id": "SYSTEM",
      "tools_count": 12,
      "tools": [
        {
          "asset_id": "e8a0123c-29e0-4893-9a11-d83eeae0493d",
          "name": "energy_consumption",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:37:06.218650+09:00"
        },
        {
          "asset_id": "7a875ccc-e6f2-4b29-97d0-863c915ee2a8",
          "name": "worker_schedule",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:37:06.042432+09:00"
        },
        {
          "asset_id": "50eb7fc8-7c67-48ae-a72d-54ee2316b67a",
          "name": "production_status",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:37:05.876185+09:00"
        },
        {
          "asset_id": "626401fa-5b34-49b7-b197-cfaf60621575",
          "name": "bom_lookup",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:37:05.721882+09:00"
        },
        {
          "asset_id": "e1264ede-46d1-493b-917b-a80f62d3ba71",
          "name": "maintenance_history",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:37:05.551456+09:00"
        },
        {
          "asset_id": "632b62d6-6944-4cc1-9703-15656d7cb72a",
          "name": "equipment_search",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:37:04.923086+09:00"
        },
        {
          "asset_id": "3d2359a5-80ab-4f4d-b47a-91687deda336",
          "name": "energy_consumption",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:36:59.409748+09:00"
        },
        {
          "asset_id": "fa6bcadf-778e-433b-a379-2417cc124f54",
          "name": "worker_schedule",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:36:59.239978+09:00"
        },
        {
          "asset_id": "c9c6f222-16a1-4353-bf1d-8999a82e8ef2",
          "name": "production_status",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:36:59.057194+09:00"
        },
        {
          "asset_id": "1f236e98-2980-4ef5-a329-515b375db975",
          "name": "bom_lookup",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:36:58.888707+09:00"
        },
        {
          "asset_id": "bf9c5a4b-59a8-4d1d-b2af-a81040d53ae3",
          "name": "maintenance_history",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:36:58.714753+09:00"
        },
        {
          "asset_id": "79bd417d-a906-41a4-a7a5-24045b52e8d3",
          "name": "equipment_search",
          "version": 2,
          "created_by": "demo_seed_script",
          "created_at": "2026-01-28 20:36:58.070926+09:00"
        }
      ],
      "status": "success"
    },
    {
      "query_id": "CATALOG_ASSETS",
      "query_text": "Catalog Asset 상세 조회",
      "execution_time_ms": 4.082441329956055,
      "trace_id": "SYSTEM",
      "catalogs_count": 0,
      "catalogs": [],
      "status": "success"
    },
    {
      "query_id": "TRACE_ASSETS",
      "query_text": "Trace 7a3e39d9-1b32-4e93-be11-cc3ad4a820e1의 모든 적용된 Asset 추적",
      "execution_time_ms": 5.73420524597168,
      "trace_id": "7a3e39d9-1b32-4e93-be11-cc3ad4a820e1",
      "trace_status": "success",
      "trace_duration_ms": 329,
      "created_at": "2026-01-28 20:40:19.112165+09:00",
      "applied_assets": {
        "policy": {
          "name": "view_depth_policies",
          "scope": null,
          "engine": null,
          "source": "asset_registry",
          "version": 1,
          "asset_id": "8f1edfe2-7950-4d5b-808b-cc1762c25209",
          "policy_type": "view_depth",
          "mapping_type": null
        },
        "prompt": {
          "name": "ci_planner_output_parser",
          "scope": "ci",
          "engine": "planner",
          "source": "asset_registry",
          "version": 1,
          "asset_id": "6b3e95c3-a979-4303-afe0-c925ed169980",
          "policy_type": null,
          "mapping_type": null
        },
        "schema": null,
        "source": {
          "name": "primary_postgres",
          "scope": "default",
          "engine": null,
          "source": "asset_registry",
          "version": 1,
          "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
          "policy_type": null,
          "mapping_type": null
        },
        "mapping": {
          "name": "output_type_priorities",
          "scope": null,
          "engine": null,
          "source": "asset_registry",
          "version": 1,
          "asset_id": "3963d8df-1b88-48f5-a03d-51c6f5fba7f0",
          "policy_type": null,
          "mapping_type": "output_type_priorities"
        },
        "queries": [],
        "screens": [],
        "resolver": {
          "name": "default_resolver",
          "scope": "default",
          "engine": null,
          "source": "asset_registry",
          "version": 1,
          "asset_id": "92406ef9-a12f-419c-9b9e-56bf7e08b63e",
          "policy_type": null,
          "mapping_type": null
        }
      },
      "total_assets_applied": 8,
      "status": "success"
    },
    {
      "query_id": "TRACE_STAGE_ASSETS",
      "query_text": "Trace 7a3e39d9-1b32-4e93-be11-cc3ad4a820e1의 Stage별 적용 Asset",
      "execution_time_ms": 10.068655014038086,
      "trace_id": "7a3e39d9-1b32-4e93-be11-cc3ad4a820e1",
      "stage_breakdown": {
        "route_plan": {
          "assets": {
            "policy": "view_depth_policies (v1)",
            "prompt": "ci_planner_output_parser (v1)",
            "source": "primary_postgres (v1)",
            "mapping": "output_type_priorities (v1)",
            "resolver": "default_resolver (v1)"
          },
          "asset_count": 5
        },
        "validate": {
          "assets": {
            "policy": "view_depth_policies (v1)",
            "prompt": "ci_planner_output_parser (v1)",
            "source": "primary_postgres (v1)",
            "mapping": "output_type_priorities (v1)",
            "resolver": "default_resolver (v1)"
          },
          "asset_count": 5
        },
        "execute": {
          "assets": {
            "policy": "view_depth_policies (v1)",
            "prompt": "ci_planner_output_parser (v1)",
            "source": "primary_postgres (v1)",
            "mapping": "output_type_priorities (v1)",
            "resolver": "default_resolver (v1)"
          },
          "asset_count": 5
        },
        "compose": {
          "assets": {
            "policy": "view_depth_policies (v1)",
            "prompt": "ci_planner_output_parser (v1)",
            "source": "primary_postgres (v1)",
            "mapping": "output_type_priorities (v1)",
            "resolver": "default_resolver (v1)"
          },
          "asset_count": 5
        },
        "present": {
          "assets": {
            "policy": "view_depth_policies (v1)",
            "prompt": "ci_planner_output_parser (v1)",
            "source": "primary_postgres (v1)",
            "mapping": "output_type_priorities (v1)",
            "resolver": "default_resolver (v1)"
          },
          "asset_count": 5
        }
      },
      "status": "success"
    },
    {
      "query_id": "ASSET_USAGE",
      "query_text": "실제로 사용되는 Asset 패턴 분석",
      "execution_time_ms": 114.83430862426758,
      "trace_id": "SYSTEM",
      "usage_patterns": [
        {
          "assets": {
            "policy": null,
            "prompt": null,
            "schema": null,
            "source": {
              "name": "primary_postgres",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
              "policy_type": null,
              "mapping_type": null
            },
            "mapping": null,
            "queries": [
              {
                "name": "dependency_expand",
                "scope": "default",
                "engine": null,
                "source": "asset_registry",
                "version": 1,
                "asset_id": "99a4c365-c55f-40e8-8c92-1e68e8422f77:v1",
                "policy_type": null,
                "mapping_type": null
              },
              {
                "name": "component_composition",
                "scope": "default",
                "engine": null,
                "source": "asset_registry",
                "version": 1,
                "asset_id": "a35c74b7-b7e7-459f-b7ec-68c3838169f5:v1",
                "policy_type": null,
                "mapping_type": null
              }
            ],
            "screens": [],
            "resolver": null
          },
          "used_in_traces": 755
        },
        {
          "assets": {
            "policy": null,
            "prompt": null,
            "schema": null,
            "source": {
              "name": "primary_postgres",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
              "policy_type": null,
              "mapping_type": null
            },
            "mapping": null,
            "queries": [
              {
                "name": "work_history",
                "scope": "history",
                "engine": null,
                "source": "asset_registry",
                "version": 1,
                "asset_id": "6fd0a8b1-1e0b-4d21-b2fb-04605d08a9bb:v1",
                "policy_type": null,
                "mapping_type": null
              },
              {
                "name": "maintenance_history",
                "scope": "history",
                "engine": null,
                "source": "asset_registry",
                "version": 1,
                "asset_id": "d284d7a4-22c3-4370-9fa4-46cf0e9f5836:v1",
                "policy_type": null,
                "mapping_type": null
              },
              {
                "name": "event_log",
                "scope": "history",
                "engine": null,
                "source": "asset_registry",
                "version": 1,
                "asset_id": "b07fffaa-e32e-4862-8a9a-3fbfca29eddc:v1",
                "policy_type": null,
                "mapping_type": null
              }
            ],
            "screens": [],
            "resolver": null
          },
          "used_in_traces": 745
        },
        {
          "assets": {
            "policy": null,
            "prompt": null,
            "schema": null,
            "source": {
              "name": "primary_postgres",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
              "policy_type": null,
              "mapping_type": null
            },
            "mapping": null,
            "queries": [],
            "screens": [],
            "resolver": null
          },
          "used_in_traces": 692
        },
        {
          "assets": {
            "policy": null,
            "prompt": null,
            "schema": null,
            "source": {
              "name": "primary_postgres",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
              "policy_type": null,
              "mapping_type": null
            },
            "mapping": null,
            "queries": [
              {
                "name": "metric_list",
                "scope": "metric",
                "engine": null,
                "source": "asset_registry",
                "version": 1,
                "asset_id": "9ebf50c0-f29a-4b9b-8802-66cf11163740:v1",
                "policy_type": null,
                "mapping_type": null
              }
            ],
            "screens": [],
            "resolver": null
          },
          "used_in_traces": 333
        },
        {
          "assets": null,
          "used_in_traces": 316
        },
        {
          "assets": {
            "policy": null,
            "prompt": null,
            "schema": null,
            "source": {
              "name": "primary_postgres",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
              "policy_type": null,
              "mapping_type": null
            },
            "mapping": null,
            "queries": [
              {
                "name": "metric_timeseries",
                "scope": "metric",
                "engine": null,
                "source": "asset_registry",
                "version": 1,
                "asset_id": "f028717c-6036-4f65-8084-c7a8c8b2ef17:v1",
                "policy_type": null,
                "mapping_type": null
              }
            ],
            "screens": [],
            "resolver": null
          },
          "used_in_traces": 203
        },
        {
          "assets": {
            "policy": null,
            "prompt": null,
            "schema": null,
            "source": {
              "name": "primary_postgres",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
              "policy_type": null,
              "mapping_type": null
            },
            "mapping": null,
            "queries": [
              {
                "name": "ci_list",
                "scope": "ci",
                "engine": null,
                "source": "asset_registry",
                "version": 1,
                "asset_id": "1a58b242-e206-472b-9c22-48ba340f9109:v1",
                "policy_type": null,
                "mapping_type": null
              }
            ],
            "screens": [],
            "resolver": null
          },
          "used_in_traces": 162
        },
        {
          "assets": {
            "policy": {
              "name": "plan_budget_default",
              "scope": null,
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "535d52b0-47a7-4b96-8705-4604dfcc781f",
              "policy_type": "plan_budget",
              "mapping_type": null
            },
            "prompt": {
              "name": "ci_compose_summary",
              "scope": "ci",
              "engine": "compose",
              "source": "asset_registry",
              "version": 1,
              "asset_id": "347ce84d-a155-4b0e-aeab-489da9f5d625",
              "policy_type": null,
              "mapping_type": null
            },
            "schema": {
              "name": "primary_postgres_schema",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "81253dcf-74eb-44b1-a0d5-bc1caa2121a4",
              "policy_type": null,
              "mapping_type": null
            },
            "source": {
              "name": "primary_postgres",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
              "policy_type": null,
              "mapping_type": null
            },
            "mapping": {
              "name": "graph_relation_mapping",
              "scope": null,
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "e4613396-af50-4280-8be4-4e0b37c07094",
              "policy_type": null,
              "mapping_type": "graph_relation"
            },
            "queries": [],
            "screens": [],
            "resolver": {
              "name": "default_resolver",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "92406ef9-a12f-419c-9b9e-56bf7e08b63e",
              "policy_type": null,
              "mapping_type": null
            }
          },
          "used_in_traces": 142
        },
        {
          "assets": {
            "policy": {
              "name": "plan_budget_default",
              "scope": null,
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "535d52b0-47a7-4b96-8705-4604dfcc781f",
              "policy_type": "plan_budget",
              "mapping_type": null
            },
            "prompt": {
              "name": "ci_planner_output_parser",
              "scope": "ci",
              "engine": "planner",
              "source": "asset_registry",
              "version": 1,
              "asset_id": "6b3e95c3-a979-4303-afe0-c925ed169980",
              "policy_type": null,
              "mapping_type": null
            },
            "schema": {
              "name": "primary_postgres_schema",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "81253dcf-74eb-44b1-a0d5-bc1caa2121a4",
              "policy_type": null,
              "mapping_type": null
            },
            "source": {
              "name": "primary_postgres",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
              "policy_type": null,
              "mapping_type": null
            },
            "mapping": {
              "name": "graph_relation_mapping",
              "scope": null,
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "e4613396-af50-4280-8be4-4e0b37c07094",
              "policy_type": null,
              "mapping_type": "graph_relation"
            },
            "queries": [],
            "screens": [],
            "resolver": {
              "name": "default_resolver",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "92406ef9-a12f-419c-9b9e-56bf7e08b63e",
              "policy_type": null,
              "mapping_type": null
            }
          },
          "used_in_traces": 141
        },
        {
          "assets": {
            "policy": {
              "name": "view_depth_policies",
              "scope": null,
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "8f1edfe2-7950-4d5b-808b-cc1762c25209",
              "policy_type": "view_depth",
              "mapping_type": null
            },
            "prompt": {
              "name": "ci_compose_summary",
              "scope": "ci",
              "engine": "compose",
              "source": "asset_registry",
              "version": 1,
              "asset_id": "347ce84d-a155-4b0e-aeab-489da9f5d625",
              "policy_type": null,
              "mapping_type": null
            },
            "schema": {
              "name": "primary_postgres_schema",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "81253dcf-74eb-44b1-a0d5-bc1caa2121a4",
              "policy_type": null,
              "mapping_type": null
            },
            "source": {
              "name": "primary_postgres",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "3a729a28-d7bb-4daf-8254-e3243fb22da2",
              "policy_type": null,
              "mapping_type": null
            },
            "mapping": {
              "name": "graph_relation",
              "scope": null,
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "e917bd76-fb23-4644-9121-a0f1bd59f576",
              "policy_type": null,
              "mapping_type": "graph_relation"
            },
            "queries": [],
            "screens": [],
            "resolver": {
              "name": "default_resolver",
              "scope": "default",
              "engine": null,
              "source": "asset_registry",
              "version": 1,
              "asset_id": "92406ef9-a12f-419c-9b9e-56bf7e08b63e",
              "policy_type": null,
              "mapping_type": null
            }
          },
          "used_in_traces": 102
        }
      ],
      "total_patterns": 10,
      "status": "success"
    }
  ],
  "summary": {
    "total_execution_time_ms": 166.70703887939453,
    "average_time_ms": 27.78450647989909,
    "tests_passed": 6,
    "tests_failed": 0
  }
}