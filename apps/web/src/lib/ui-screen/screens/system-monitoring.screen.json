{
  "id": "system_monitoring",
  "screen_id": "system_monitoring",
  "name": "System Monitoring",
  "version": "1.0",
  "description": "Real-time system monitoring dashboard with CPU, memory, disk, and network metrics",
  "layout": {
    "type": "dashboard",
    "direction": "vertical",
    "spacing": 16
  },
  "components": [
    {
      "id": "sys_header",
      "type": "row",
      "label": "Header Row",
      "props": {
        "gap": 4,
        "components": [
          {
            "id": "sys_title",
            "type": "text",
            "label": "Title",
            "props": {
              "content": "System Monitoring Dashboard",
              "variant": "heading"
            }
          },
          {
            "id": "sys_refresh_btn",
            "type": "button",
            "label": "Refresh Now",
            "props": {
              "label": "Refresh Now",
              "variant": "default"
            },
            "actions": [
              {
                "id": "action_refresh_health",
                "handler": "fetch_system_health",
                "endpoint": "/admin/system/health",
                "method": "GET",
                "response_mapping": {
                  "cpu_usage": "health.resource.cpu_percent",
                  "memory_usage": "health.resource.memory_percent",
                  "memory_available_gb": "health.resource.memory_available_gb",
                  "disk_usage": "health.resource.disk_percent",
                  "disk_available_gb": "health.resource.disk_available_gb",
                  "system_status": "health.status"
                },
                "continue_on_error": true
              },
              {
                "id": "action_refresh_alerts",
                "handler": "fetch_system_alerts",
                "endpoint": "/admin/system/alerts?limit=20",
                "method": "GET",
                "response_mapping": {
                  "system_alerts": "alerts",
                  "alert_count": "alert_count"
                },
                "continue_on_error": true
              }
            ]
          }
        ]
      }
    },
    {
      "id": "sys_kpi_row",
      "type": "row",
      "label": "KPI Metrics Row",
      "props": {
        "gap": 3,
        "components": [
          {
            "id": "sys_kpi_cpu",
            "type": "keyvalue",
            "label": "CPU Usage",
            "props": {
              "items": [
                {
                  "key": "CPU Usage",
                  "value": "{{state.cpu_usage}}%"
                },
                {
                  "key": "Status",
                  "value": "{{state.system_status}}"
                }
              ]
            }
          },
          {
            "id": "sys_kpi_memory",
            "type": "keyvalue",
            "label": "Memory Usage",
            "props": {
              "items": [
                {
                  "key": "Usage",
                  "value": "{{state.memory_usage}}%"
                },
                {
                  "key": "Available",
                  "value": "{{state.memory_available_gb}}GB"
                }
              ]
            }
          },
          {
            "id": "sys_kpi_disk",
            "type": "keyvalue",
            "label": "Disk Usage",
            "props": {
              "items": [
                {
                  "key": "Usage",
                  "value": "{{state.disk_usage}}%"
                },
                {
                  "key": "Available",
                  "value": "{{state.disk_available_gb}}GB"
                }
              ]
            }
          },
          {
            "id": "sys_kpi_alerts",
            "type": "keyvalue",
            "label": "Alerts",
            "props": {
              "items": [
                {
                  "key": "Total Alerts",
                  "value": "{{state.alert_count}}"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "id": "sys_alerts_table",
      "type": "table",
      "label": "System Alerts",
      "props": {
        "rows": "{{state.system_alerts}}",
        "columns": [
          {
            "field": "timestamp",
            "header": "Time",
            "sortable": true
          },
          {
            "field": "severity",
            "header": "Severity"
          },
          {
            "field": "message",
            "header": "Message"
          },
          {
            "field": "type",
            "header": "Type"
          }
        ],
        "sortable": true,
        "page_size": 10,
        "auto_refresh": {
          "enabled": true,
          "interval_ms": 15000,
          "action_index": 0,
          "max_failures": 3,
          "backoff_ms": 5000
        },
        "conditional_styles": [
          {
            "field": "severity",
            "operator": "eq",
            "value": "critical",
            "color": "#ffffff",
            "bg_color": "#ef4444"
          },
          {
            "field": "severity",
            "operator": "eq",
            "value": "warning",
            "color": "#1f2937",
            "bg_color": "#f59e0b"
          },
          {
            "field": "severity",
            "operator": "eq",
            "value": "info",
            "color": "#1f2937",
            "bg_color": "#3b82f6"
          }
        ]
      },
      "actions": [
        {
          "id": "action_auto_refresh_alerts",
          "handler": "fetch_system_alerts",
          "endpoint": "/admin/system/alerts?limit=20",
          "method": "GET",
          "response_mapping": {
            "system_alerts": "alerts",
            "alert_count": "alert_count"
          },
          "continue_on_error": true
        }
      ]
    }
  ],
  "state": {
    "initial": {
      "cpu_usage": 0,
      "memory_usage": 0,
      "memory_available_gb": 0,
      "disk_usage": 0,
      "disk_available_gb": 0,
      "system_status": "unknown",
      "system_alerts": [],
      "alert_count": 0
    },
    "schema": {
      "cpu_usage": { "type": "number" },
      "memory_usage": { "type": "number" },
      "memory_available_gb": { "type": "number" },
      "disk_usage": { "type": "number" },
      "disk_available_gb": { "type": "number" },
      "system_status": { "type": "string" },
      "system_alerts": { "type": "array" },
      "alert_count": { "type": "number" }
    }
  },
  "actions": [
    {
      "id": "fetch_system_health",
      "label": "Fetch System Health",
      "handler": "fetch_system_health",
      "endpoint": "/admin/system/health",
      "method": "GET",
      "response_mapping": {
        "cpu_usage": "health.resource.cpu_percent",
        "memory_usage": "health.resource.memory_percent",
        "memory_available_gb": "health.resource.memory_available_gb",
        "disk_usage": "health.resource.disk_percent",
        "disk_available_gb": "health.resource.disk_available_gb",
        "system_status": "health.status"
      }
    },
    {
      "id": "fetch_system_alerts",
      "label": "Fetch System Alerts",
      "handler": "fetch_system_alerts",
      "endpoint": "/admin/system/alerts?limit=20",
      "method": "GET",
      "response_mapping": {
        "system_alerts": "alerts",
        "alert_count": "alert_count"
      }
    }
  ],
  "metadata": {
    "author": "System Administrator",
    "created_at": "2026-02-07",
    "notes": "Real-time system monitoring dashboard using /admin/system/* API endpoints",
    "tags": {
      "category": "monitoring",
      "type": "dashboard",
      "auto_refresh": "true"
    }
  }
}
