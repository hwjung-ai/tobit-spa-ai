{
  "id": "system_monitoring",
  "screen_id": "system_monitoring",
  "name": "System Monitoring",
  "version": "4.0",
  "description": "Real-time system monitoring dashboard with CPU, memory, disk, OPS stats, regression analysis, and alerts",
  "layout": {
    "type": "stack",
    "direction": "vertical",
    "spacing": 6
  },
  "components": [
    {
      "id": "sys_header",
      "type": "row",
      "label": "Header",
      "props": {
        "gap": 4,
        "align": "center",
        "components": [
          {
            "id": "sys_title_group",
            "type": "column",
            "props": {
              "gap": 1,
              "components": [
                {
                  "id": "sys_title",
                  "type": "text",
                  "props": {
                    "content": "Observability",
                    "variant": "heading",
                    "fontSize": "2xl",
                    "fontWeight": "semibold"
                  }
                },
                {
                  "id": "sys_subtitle",
                  "type": "text",
                  "props": {
                    "content": "Trace & Regression 핵심 KPI를 한 화면에서 파악합니다.",
                    "variant": "muted",
                    "fontSize": "sm"
                  }
                }
              ]
            }
          },
          {
            "id": "sys_realtime_badge",
            "type": "text",
            "props": {
              "content": "REALTIME",
              "fontSize": "xs",
              "fontWeight": "bold",
              "color": "#38bdf8"
            }
          },
          {
            "id": "sys_refresh_btn",
            "type": "button",
            "label": "Refresh",
            "props": {
              "label": "Refresh",
              "variant": "outline",
              "auto_refresh": {
                "enabled": true,
                "interval_ms": 30000
              }
            },
            "actions": [
              {
                "id": "action_refresh_system",
                "handler": "fetch_system_health",
                "label": "Refresh System Health"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "sys_kpi_grid",
      "type": "row",
      "label": "KPI Grid",
      "props": {
        "gap": 4,
        "components": [
          {
            "id": "sys_kpi_success",
            "type": "keyvalue",
            "label": "Success Rate",
            "props": {
              "items": [
                {
                  "key": "Success Rate",
                  "value": "{{state.success_rate}}%"
                }
              ]
            }
          },
          {
            "id": "sys_kpi_failure",
            "type": "keyvalue",
            "label": "Failure Rate",
            "props": {
              "items": [
                {
                  "key": "Failure Rate",
                  "value": "{{state.failure_rate}}%"
                }
              ]
            }
          },
          {
            "id": "sys_kpi_nodata",
            "type": "keyvalue",
            "label": "No-Data Ratio",
            "props": {
              "items": [
                {
                  "key": "No-Data Ratio",
                  "value": "{{state.no_data_ratio}}%"
                }
              ]
            }
          },
          {
            "id": "sys_kpi_ops",
            "type": "keyvalue",
            "label": "Requests (24h)",
            "props": {
              "items": [
                {
                  "key": "Total Requests",
                  "value": "{{state.today_query_count}}"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "id": "sys_latency_card",
      "type": "column",
      "label": "Latency & Tool Health",
      "props": {
        "gap": 3,
        "components": [
          {
            "id": "sys_latency_title",
            "type": "text",
            "props": {
              "content": "Latency & Tool Health",
              "fontSize": "lg",
              "fontWeight": "semibold"
            }
          },
          {
            "id": "sys_latency_row",
            "type": "row",
            "props": {
              "gap": 4,
              "components": [
                {
                  "id": "sys_kpi_p50",
                  "type": "keyvalue",
                  "label": "p50 Latency",
                  "props": {
                    "items": [
                      {
                        "key": "p50 Latency",
                        "value": "{{state.latency_p50}}ms"
                      }
                    ]
                  }
                },
                {
                  "id": "sys_kpi_p95",
                  "type": "keyvalue",
                  "label": "p95 Latency",
                  "props": {
                    "items": [
                      {
                        "key": "p95 Latency",
                        "value": "{{state.latency_p95}}ms"
                      }
                    ]
                  }
                }
              ]
            }
          }
        ]
      }
    },
    {
      "id": "sys_bottom_sections",
      "type": "row",
      "label": "Bottom Sections",
      "props": {
        "gap": 4,
        "components": [
          {
            "id": "sys_trend_col",
            "type": "column",
            "label": "Regression Trend",
            "props": {
              "gap": 3,
              "components": [
                {
                  "id": "sys_trend_title",
                  "type": "text",
                  "props": {
                    "content": "Regression trend (Last 7 Days)",
                    "fontSize": "lg",
                    "fontWeight": "semibold"
                  }
                },
                {
                  "id": "sys_regression_chart",
                  "type": "chart",
                  "props": {
                    "chart_type": "bar",
                    "data": "{{state.regression_trend}}",
                    "x_key": "date",
                    "series": [
                      {
                        "name": "PASS",
                        "data_key": "PASS",
                        "color": "#34d399"
                      },
                      {
                        "name": "WARN",
                        "data_key": "WARN",
                        "color": "#fbbf24"
                      },
                      {
                        "name": "FAIL",
                        "data_key": "FAIL",
                        "color": "#f87171"
                      }
                    ],
                    "y_min": 0,
                    "height": 250
                  }
                }
              ]
            }
          },
          {
            "id": "sys_breakdown_col",
            "type": "column",
            "label": "Regression Breakdown",
            "props": {
              "gap": 3,
              "components": [
                {
                  "id": "sys_breakdown_title",
                  "type": "text",
                  "props": {
                    "content": "Regression breakdown",
                    "fontSize": "lg",
                    "fontWeight": "semibold"
                  }
                },
                {
                  "id": "sys_reg_totals_row",
                  "type": "row",
                  "props": {
                    "gap": 2,
                    "components": [
                      {
                        "id": "sys_reg_pass",
                        "type": "keyvalue",
                        "props": {
                          "items": [
                            {
                              "key": "PASS",
                              "value": "{{state.regression_totals.PASS}}"
                            }
                          ]
                        }
                      },
                      {
                        "id": "sys_reg_warn",
                        "type": "keyvalue",
                        "props": {
                          "items": [
                            {
                              "key": "WARN",
                              "value": "{{state.regression_totals.WARN}}"
                            }
                          ]
                        }
                      },
                      {
                        "id": "sys_reg_fail",
                        "type": "keyvalue",
                        "props": {
                          "items": [
                            {
                              "key": "FAIL",
                              "value": "{{state.regression_totals.FAIL}}"
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                {
                  "id": "sys_top_causes_table",
                  "type": "table",
                  "label": "RCA Top Causes",
                  "props": {
                    "rows": "{{state.top_causes}}",
                    "columns": [
                      {
                        "field": "reason",
                        "header": "Failure Reason"
                      },
                      {
                        "field": "count",
                        "header": "Count"
                      }
                    ],
                    "page_size": 5
                  }
                }
              ]
            }
          }
        ]
      }
    },
    {
      "id": "sys_alerts_section",
      "type": "column",
      "label": "Alerts Section",
      "props": {
        "gap": 3,
        "components": [
          {
            "id": "sys_alerts_title",
            "type": "text",
            "props": {
              "content": "System Alerts",
              "fontSize": "lg",
              "fontWeight": "semibold"
            }
          },
          {
            "id": "sys_alerts_table",
            "type": "table",
            "props": {
              "rows": "{{state.system_alerts}}",
              "columns": [
                {
                  "field": "timestamp",
                  "header": "Time"
                },
                {
                  "field": "severity",
                  "header": "Severity"
                },
                {
                  "field": "message",
                  "header": "Message"
                },
                {
                  "field": "source",
                  "header": "Source"
                }
              ],
              "page_size": 10,
              "conditional_styles": [
                {
                  "field": "severity",
                  "operator": "eq",
                  "value": "critical",
                  "color": "#f87171"
                },
                {
                  "field": "severity",
                  "operator": "eq",
                  "value": "warning",
                  "color": "#fbbf24"
                }
              ]
            }
          }
        ]
      }
    }
  ],
  "state": {
    "initial": {
      "success_rate": 100.0,
      "failure_rate": 0.0,
      "no_data_ratio": 0.0,
      "today_query_count": 0,
      "latency_p50": 0,
      "latency_p95": 0,
      "system_status": "healthy",
      "system_alerts": [],
      "regression_trend": [],
      "regression_totals": {
        "PASS": 0,
        "WARN": 0,
        "FAIL": 0
      },
      "top_causes": []
    },
    "schema": {
      "success_rate": {
        "type": "number"
      },
      "failure_rate": {
        "type": "number"
      },
      "no_data_ratio": {
        "type": "number"
      },
      "today_query_count": {
        "type": "number"
      },
      "latency_p50": {
        "type": "number"
      },
      "latency_p95": {
        "type": "number"
      },
      "system_status": {
        "type": "string"
      },
      "system_alerts": {
        "type": "array"
      },
      "regression_trend": {
        "type": "array"
      },
      "regression_totals": {
        "type": "object",
        "properties": {
          "PASS": {
            "type": "number"
          },
          "WARN": {
            "type": "number"
          },
          "FAIL": {
            "type": "number"
          }
        }
      },
      "top_causes": {
        "type": "array"
      }
    }
  },
  "metadata": {
    "hide_debug_panels": true,
    "author": "Antigravity",
    "created_at": "2026-02-10",
    "tags": {
      "category": "system",
      "type": "monitoring"
    }
  },
  "actions": [
    {
      "id": "fetch_system_health",
      "label": "Fetch System Health",
      "handler": "fetch_system_health"
    }
  ]
}